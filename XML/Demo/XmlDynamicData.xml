<?xml version="1.0" encoding="UTF-8"?>

<suite name="Demo_XmlDynamicData" user="jenkins" project="Demo">


	<test name="Save_and_use_Variables">
	
		<!--  Just evaluate data at runtime and save tree variables: today, time and startDate -->
 		<testcase name="projects.mock.testCases.MockSuccess" 
 			save="today={$dd}/{$MM}/{$yyyy};time={$HH}:{$mm}:{$ss};startDate={today}_{time}"/>
		
		<testcase name="projects.mock.testCases.MockSuccess" 
			date1="{today}_{time}" 
			date2="{startDate}" 
			
			userDir="{$userDir}" 
			logFolder="{$logFolder}"/>
		
		
		
		<!--  Set time and start_date to new values -->
		<testcase name="projects.common.testCases.Wait" millisec="2000"/>
		
		<testcase name="projects.mock.testCases.MockSuccess" 
			save="time={$HH}:{$mm}:{$ss};startDate={today}_{time}"
			note="Set time and start_date to current values."/>
		
		<testcase name="projects.mock.testCases.MockSuccess" 
			date1="{today}_{time}" 
			date2="{startDate}"/>
		
		 
		
		<!--  Save result from a test case and use it in following test cases -->
        <testcase name="projects.mock.testCases.AddNumbers" 
        	number1="100" 
        	number2="400" 
        	
        	saveResults="sum=result"/>
        
        <testcase name="projects.mock.testCases.MockSuccess" 
        	startNumberingFrom="{sum}" 
        	note="The result of the previous testcase is {sum}.\ndate1={date1}\ndate2={startDate}" />
        	
    
         <testcase name="projects.common.testCases.AreEqual" 
        	string1="{sum}"
        	string2="500" />
    
		
	</test>
	
	
	
	<test name="Reset_test_data">
	
		<testcase name="projects.mock.testCases.MockSuccess"
		
			save="id=1111"

        	id="{id}" />
        	
        	
 		<testcase name="projects.common.testCases.AreEqual"

        	string1="{id}"

        	string2="1111" /> 
				
				
		<testcase name="projects.common.testCases.ResetSavedData" />
	
	
        <testcase name="projects.common.testCases.AreEqual"

        	string1="{id}"

        	string2="id" /> 
        	        	
	</test>
	
	
	
	<test name="Dynamic_date_functions_example">		
        
        <testcase name="projects.mock.testCases.MockSuccess" 
        
        	note="The result of the Test1/AddNumbers is {sum}." 
        	
        	after1days_d="{$after1days_d}"
        	
        	after1days_dd="{$after1days_dd}"

        	after00001days_dd="{$after00001days_dd}"

        	after10days_M="{$after10days_M}"
        	        	
        	after10days_MM="{$after10days_MM}"
        	
        	after300days_yyyy="{$after300days_yyyy}" />
        
        	
		<testcase name="projects.common.testCases.ResetSavedData" />        	
		
	</test>
	
	
	
	<test name="Save_results_and_use_them_as_variables">
				
		<testcase name="projects.mock.testCases.MockSaveResults" 
		
			note="This saves a String[] member of MockSaveResults in orders variable
			
			 \norders = [ &quot;first&quot;, &quot;second&quot;, &quot;third&quot; ] -> currentOrders = &quot;first||second||third&quot;"
		
			saveResults="currentOrders=orders"/>
		
		
        <testcase name="projects.common.testCases.AreEqual"

        	string1="{currentOrders}"

        	string2="first||second||third" 
        	
        	stopOnFailure="false" />
        	
        	
		<testcase name="projects.common.testCases.AreEqual"

        	string1="{currentOrders[0]}"

        	string2="first" 
        	
        	stopOnFailure="false" />
        	
	
		<testcase name="projects.common.testCases.AreEqual"

        	string1="{currentOrders[1]}"

        	string2="second" 
        	
        	stopOnFailure="false" />
        
        
        <testcase name="projects.common.testCases.AreEqual"

        	string1="{currentOrders[2]}"

        	string2="third" 
        	
        	stopOnFailure="false" />
        
        	
        <testcase name="projects.common.testCases.AreEqual"

        	string1="{currentOrders[4]}"

        	string2="currentOrders[4]" 
        	
        	expectedFailureRegExp=".*ArrayIndexOutOfBoundsException: Index 4 out of bounds.*" />

	</test>	


</suite> 

